<!DOCTYPE html>
<html layout:decorate="~{base}" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:th="http://www.thymeleaf.org">
<div class="card card-primary" layout:fragment="content-body">
	<div class="card-header">
		<h3 class="card-title">Fill in the form below</h3>
	</div>
	<!-- /.card-header -->
	<!-- form start -->
	<div class="card-body">
		<form role="form" id="form">
			<div class="form-group">
				<label for="exampleInputNama1">Name</label> <input type="text"
					class="form-control" id="name" placeholder="Enter name">
			</div>
			<div class="form-group">
				<label for="exampleInputAddress1">Address</label> <input type="text"
					class="form-control" id="address" placeholder="Address">
			</div>
			<div class="form-group">
				<label for="exampleInputBirthDate1">Birth Date</label> <input
					type="date" class="form-control" id="birthdate"
					placeholder="Enter name">
			</div>
			<div class="form-group">
				<label for="exampleInputAge1">Age</label> <input type="number"
					class="form-control" id="age" placeholder="Enter name">
			</div>
			<div class="form-group">
				<label for="exampleInputReligion1">Religion</label><br> <select
					name="Choose" id="religion">
					<option>Islam</option>
					<option>Kristen</option>
					<option>Katolik</option>
					<option>Hindu</option>
					<option>Budha</option>
					<option>Konghucu</option>
				</select>
			</div>
			<div class="form-group">
				<label for="gender">Gender</label><br>
				<div class="custom-control custom-radio">
					<input class="custom-control-input" type="radio" id="customRadio1"
						name="customRadio" value="Male"> <label for="customRadio1"
						class="custom-control-label">Male</label>
				</div>
				<div class="custom-control custom-radio">
					<input class="custom-control-input" type="radio" id="customRadio2"
						name="customRadio" value="Female"> <label
						for="customRadio2" class="custom-control-label">Female</label>
				</div>
			</div>

		</form>
		<div class="card-footer">
			<button type="submit" id="btn" class="btn btn-primary">Submit</button>
		</div>
		<table id="mytable" style="width: 100%">
			<thead>
				<tr>
					<th>Name</th>
					<th>Address</th>
					<th>Birth Date</th>
					<th>Age</th>
					<th>Religion</th>
					<th>Gender</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
		<div class="card-footer">
			<button type="submit" id="reset" class="btn btn-primary">Reset</button>
		</div>
	</div>



	<!-- jQuery -->
	<script th:src="@{/plugins/jquery/jquery.min.js}"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/parsley.js/2.9.1/parsley.min.js"></script>
	<!-- DataTables -->
	<script th:src="@{/plugins/datatables/jquery.dataTables.js}"></script>
	<script th:src="@{/plugins/datatables-bs4/js/dataTables.bootstrap4.js}"></script>
	<!--  Sweetalert -->
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
	<script src="sweetalert2.all.min.js"></script>
	<!-- Optional: include a polyfill for ES6 Promises for IE11 -->
	<script src="https://cdn.jsdelivr.net/npm/promise-polyfill"></script>
	<script>
		$(document).ready(
				function() {
					$("#btn").click(
							function() {
								var name = $("#name").val();
								var address = $("#address").val();
								var birthdate = $("#birthdate").val();
								var age = $("#age").val();
								var religion = $("#religion").val();
								let gender = $(
										'input[name="customRadio"]:checked',
										"#form").val();
								if (name == "" || address == ""
										|| birthdate == "" || age == ""
										|| religion == "" || gender == "") {
									alert("gagal, data tidak lengkap");
								} else {
									Swal.fire({
										  position: 'top-end',
										  icon: 'success',
										  title: 'Your work has been saved',
										  showConfirmButton: false,
										  timer: 1500
										})
									var markup = "<tr><td>" + name
											+ "</td><td>" + address
											+ "</td><td>" + birthdate
											+ "</td><td>" + age + "</td><td>"
											+ religion + "</td><td>" + gender
											+ "</td></tr>";
									$("table tbody").append(markup);
								}
							});
					$("#reset").click(function() {
						Swal.fire({
							  title: 'Are you sure?',
							  text: "You won't be able to revert this!",
							  icon: 'warning',
							  showCancelButton: true,
							  confirmButtonColor: '#3085d6',
							  cancelButtonColor: '#d33',
							  confirmButtonText: 'Yes, delete it!'
							}).then((result) => {
							  if (result.value) {
							    Swal.fire(
							      'Deleted!',
							      'Your file has been deleted.',
							      'success'
							    )
							    $("table tbody").empty();
							  }
							})
					});
				});
	</script>
</div>
</html>